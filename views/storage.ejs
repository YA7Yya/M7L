  <!DOCTYPE html>
  <html lang="ar">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Storage Management</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

      <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@5.0.16/dark.min.css" rel="stylesheet" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.32/sweetalert2.min.js" integrity="sha512-3PL7jW3xI1EjF2Hfqwv5u6nKG/BnUbWytnJDhsY/q5CbIB5XzoHNhJvgmFeVD7xgC9DbKDm+gPP9uDAAfLAZUA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./CSS/storage.css">
  </head>
  <body>
      <div class="container position-relative">
      
          <a href="/crud">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                  <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5"/>
                </svg>
          </a>
            <header class="text-center">
              <h1>ุฅุฏุงุฑุฉ ุงููุฎุฒู</h1>
          </header>
          <a href="/logs" class="position-absolute top-0 start-0 m-4">
              <i class="fa fa-history fa-2x" aria-hidden="true"></i>
            </a>
          <section class="add-item">
  <center>
  
      <h2 class="addForStorage">ุฅุถุงูุฉ ููุชุฌ ูููุฎุฒู</h2>
  </center>
  <form id="updateForm" action="" method="post" class="p-4 border rounded" style="display: none; background-color: #f8f9fa;">
      <a href="/logs" class="position-absolute top-0 start-0 m-4">
          <i class="fa fa-history fa-2x" aria-hidden="true"></i>
        </a>
      <h2 class="text-center mb-4">ุชุนุฏูู ููุชุฌ ูููุฎุฒู</h2>
      <div class="mb-3">
        <label for="puname" class="form-label">ุงุณู ุงูููุชุฌ</label>
        <input type="text" id="puname" name="productName" class="form-control" placeholder="ุงุณู ุงูููุชุฌ" required>
      </div>
      <div class="mb-3">
        <label for="puquantity" class="form-label">ุงููููุฉ</label>
        <input type="number" name="quantity" id="puquantity" class="form-control" placeholder="ุงููููุฉ" required>
      </div>
      <div class="mb-3">
        <label for="puprice" class="form-label">ุณุนุฑ ุงูุฌููุฉ ูููุญุฏุฉ</label>
        <input type="number" name="wholePrice" class="form-control" id="puprice" placeholder="ุณุนุฑ ุงูุฌููุฉ ูููุญุฏุฉ" required>
      </div>
      <div class="mb-3">
        <label for="puunit" class="form-label">ุงููุญุฏุฉ</label>
        <select name="unit" class="form-select" required id="puunit">
          <option value="ุงููุญุฏุฉ" disabled selected>ุงููุญุฏุฉ</option>
          <option value="ุฏุณุชุฉ">ุฏุณุชุฉ</option>
          <option value="1/2 ุฏุณุชุฉ">1/2 ุฏุณุชุฉ</option>
          <option value="ูุทุนุฉ">ูุทุนุฉ</option>
          <option value="ูุฑุชููุฉ">ูุฑุชููุฉ</option>
          <option value="ุทูู">ุทูู</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="pustatus" class="form-label">ุญุงูุฉ ุงูููุชุฌ</label>
        <select name="status" class="form-select" id="pustatus" required>
          <option value="ุญุงูุฉ ุงูููุชุฌ" disabled selected>ุญุงูุฉ ุงูููุชุฌ</option>
          <option value="ูุชููุฑ ๐ข">ูุชููุฑ ๐ข</option>
          <option value="ุบูุฑ ูุชููุฑ ๐ด">ุบูุฑ ูุชููุฑ ๐ด</option>
        </select>
      </div>
      <button type="submit" class="btn btn-success w-100">ุชุญุฏูุซ ุงูููุชุฌ</button>
    </form>
    


              <form id="addItemForm" class="addingForm" action="/storage" method="post">
          
                  <input type="text" id="itemName" name="productName" class="form-control" placeholder="ุงุณู ุงูููุชุฌ" required>
                  <input type="number" name="quantity" id="itemQuantity" class="form-control" placeholder="ุงููููุฉ" required>
                  <input type="number" name="wholePrice" class="form-control" placeholder="ุณุนุฑ ุงูุฌููุฉ ูููุญุฏุฉ" required>
                  <select name="unit" class="form-select" required>
                      <option value="ุงููุญุฏุฉ" disabled selected>ุงููุญุฏุฉ</option>
                      <option value="ุฏุณุชุฉ">ุฏุณุชุฉ</option>
                      <option value="1/2 ุฏุณุชุฉ">1/2 ุฏุณุชุฉ</option>
                      <option value="ูุทุนุฉ">ูุทุนุฉ</option>
                      <option value="ูุฑุชููุฉ">ูุฑุชููุฉ</option>
                      <option value="ุทูู">ุทูู</option>
                  </select>
                  <select name="status" class="form-select" required>
                      <option value="ุญุงูุฉ ุงููุชุฌ" disabled selected >ุญุงูุฉ ุงูููุชุฌ</option>
                    <option class="available" value="ูุชููุฑ ๐ข">ูุชููุฑ ๐ข</option>
                    <option class="notAvailable" value="ุบูุฑ ูุชููุฑ ๐ด">ุบูุฑ ูุชููุฑ ๐ด</option>
                  </select>
                  <button type="submit" class="btn btn-primary w-100" id="submitButton">ุฅุถุงูุฉ ุงูููุชุฌ</button>
              
              </form>
              <br>
              <input type="text" id="searchInput" class="form-control" placeholder="Search for products...">
          </section>
          <section class="storage-list mt-5">
              <h2 class="text-center">ุงููุฎุฒู</h2>
              <table class="table table-striped table-bordered mt-3 table-responsive table table-hover bg-light">
                  <thead>
                      <tr class="productsdata">
                          <th>ุงูุตูู</th>
                          <th>ุงููููุฉ/ุงููุญุฏุฉ</th>
                          <th>ุณุนุฑ ุงูุฌููุฉ ูููุญุฏุฉ</th>
                          <th>ุญุงูุฉ ุงูุตูู</th>
                          <th>ุงุฎุฑ ุชุญุฏูุซ</th>
                          <th>ูุดุงุท</th>
                      </tr>
                  </thead>
                  <tbody id="tableBody">
                      <% product.forEach(product =>{ %> 
                          <tr style="padding-bottom: 10px;">
                          <td><%= product.productName %> </td>
                          <td><%= product.quantity%> / <%= product.unit %>  </td>
                          <td style="text-align: center;font-weight: bold;"><%= product.wholePrice %> </td>
                          <td><%= product.status %> </td>
                          <td><%= moment(product.updatedAt).format('LL') %> </td>
                          <td>
                              <button class="btn btn-outline-danger delete" data-productId="<%= product._id %>">
                                  <i class="fa fa-trash"></i>
                                </button>
                              <button class="btn btn-outline-warning update" data-productId="<%= product._id %>">
                                  <i class="fa fa-edit" ></i>
                                </button>
                          </td>
                      </tr>
                          <% }) %> 
                
                  </tbody>
              </table>
          </section>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/locale/ar.min.js"></script>
      <script src="../js/Storage.js" defer></script>


      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </html>
